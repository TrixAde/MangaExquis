<!-- Ajout de Bootstrap pour le style -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<style>
    body {
        background-color: #f8f9fa;
        padding-top: 60px; /* Assure que la barre de navigation ne chevauche pas le contenu */
    }

    header {
        background-color: #343a40;
        padding: 20px 0;
        color: #ffffff;
        text-align: center;
    }

    main {
        padding: 20px;
    }

    form {
        margin-bottom: 20px;
    }

    #search-results {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
    }

    .result-item {
        margin: 10px;
        padding: 15px;
        border: 1px solid #dee2e6;
        border-radius: 5px;
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        cursor: pointer; /* Ajout du curseur pointer pour indiquer que l'élément est cliquable */
    }

    img {
        max-width: 100%;
        height: auto;
        border-radius: 5px;
    }
</style>

<!-- Ajout de Bootstrap pour les scripts JavaScript -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('search-form').addEventListener('submit', function (event) {
            event.preventDefault();
            // Récupérer la valeur de recherche
            var searchTerm = document.getElementById('search-input').value;

            // Charger la base de données de mangas depuis le fichier MangasList.json
            fetch('MangasList.json')
                .then(response => response.json())
                .then(data => {
                    // Exemple de traitement de la recherche
                    var results = searchMangas(data, searchTerm);

                    // Afficher les résultats
                    displayResults(results);
                })
                .catch(error => console.error('Erreur lors du chargement de la base de données :', error));
        });

        function searchMangas(mangas, term) {
            // Filtrer les mangas en fonction du terme de recherche
            term = term.toLowerCase();
            return mangas.filter(manga => manga.title.toLowerCase().includes(term));
        }

        function displayResults(results) {
            var resultsContainer = document.getElementById('search-results');
            resultsContainer.innerHTML = ''; // Efface les résultats précédents

            if (results.length === 0) {
                resultsContainer.innerHTML = '<p>Aucun résultat trouvé.</p>';
            } else {
                results.forEach(function (result) {
                    var resultItem = document.createElement('div');
                    resultItem.classList.add('result-item', 'col-md-4');
                    resultItem.innerHTML = '<h3>' + result.title + '</h3><img src="' + result.cover + '" alt="Jaquette">';
                    resultItem.addEventListener('click', function() {
                        openImageInNewWindow(result.cover);
                    });
                    resultsContainer.appendChild(resultItem);
                });
            }
        }

        function openImageInNewWindow(imageSrc) {
            var newWindow = window.open('', '_blank');
            newWindow.document.write('<html><head><title>Image en plein écran</title></head><body style="margin:0;text-align:center;"><img src="' + imageSrc + '" style="max-width:100%;max-height:100vh;"></body></html>');
            newWindow.document.close();
        }
    });
</script>
