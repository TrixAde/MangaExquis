<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mon Road Movie - Parcours à LLA</title>
  <!-- Normalize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Base */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      background: #2c3e50; /* fond sombre */
      color: #fff;
      overflow-x: hidden;
    }
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.9);
      padding: 15px 20px;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    header h1 {
      margin: 0;
      font-size: 1.6em;
    }
    nav a {
      color: #fff;
      margin-left: 20px;
      text-decoration: none;
      font-weight: 700;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #ff6f61;
    }
    /* Conteneur de la route */
    .road-container {
      position: relative;
      margin-top: 80px; /* laisser place au header */
      width: 100%;
      min-height: 300vh; /* pour offrir de l'espace au scroll */
      background: #444; /* couleur d'asphalte */
      background-image: 
         linear-gradient(to bottom, transparent 0%, transparent 45%, rgba(255,255,255,0.3) 50%, transparent 55%, transparent 100%);
      background-size: 100% 80px;
    }
    /* SVG qui définit le chemin de la route (invisible mais utilisé pour l’animation) */
    .road-path-svg {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      pointer-events: none;
      overflow: visible;
    }
    /* La voiture qui se déplace le long du chemin */
    .car {
      position: absolute;
      width: 60px;
      height: auto;
      z-index: 10;
    }
    /* Panneau d'information */
    .info-panel {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      padding: 20px 30px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.5);
      max-width: 90%;
      z-index: 1500;
    }
    .info-panel h2 {
      margin: 0 0 10px 0;
      color: #ff6f61;
      font-size: 1.4em;
    }
    .info-panel p {
      margin: 0;
      line-height: 1.6;
      font-size: 1em;
    }
    footer {
      text-align: center;
      padding: 20px;
      background: #333;
      color: #fff;
      position: relative;
      z-index: 2;
    }
  </style>
</head>
<body>
  <header>
    <h1>Mon Road Movie - Parcours à LLA</h1>
    <nav>
      <!-- Navigation : le scroll vers des positions clés -->
      <a href="#p1" class="nav-link" data-target="0">Seconde</a>
      <a href="#p2" class="nav-link" data-target="0.33">Première</a>
      <a href="#p3" class="nav-link" data-target="0.66">Terminale</a>
      <a href="#p4" class="nav-link" data-target="1">Bac & Futur</a>
    </nav>
  </header>

  <!-- Conteneur de la route -->
  <div class="road-container">
    <!-- SVG path (chemin invisible servant à l'animation) -->
    <svg class="road-path-svg" width="400" height="2500" viewBox="0 0 400 2500">
      <!-- Ce chemin est un zigzag vertical avec 4 étapes clés -->
      <path id="motionPath" d="
        M200,50 
        C200,150 100,300 200,400 
        S300,550 200,700 
        S100,850 200,1000 
        S300,1150 200,1300 
        S100,1450 200,1600 
        S300,1750 200,1900 
        S100,2050 200,2200 
        S300,2350 200,2500" 
      fill="none" stroke="none"/>
    </svg>
    <!-- La voiture qui suivra le chemin -->
    <img src="https://img.icons8.com/emoji/96/000000/red-car-emoji.png" alt="Voiture" class="car" id="car">
  </div>

  <!-- Panneau d'information fixe -->
  <div class="info-panel">
    <h2 id="eventTitle">Premier jour de Seconde</h2>
    <p id="eventDescription">
      J'étais choqué en découvrant mon professeur principal d'histoire-géographie, M. Deraco, incroyablement proche des élèves, drôle et bienveillant. Son approche chaleureuse m'a mis immédiatement à l'aise.
    </p>
  </div>

  <footer>
    <p>© 2025 Mon Parcours à LLA</p>
  </footer>

  <!-- GSAP, ScrollTrigger, MotionPathPlugin et TextPlugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger, MotionPathPlugin, TextPlugin, ScrollToPlugin);

    // Données des événements
    const events = [
      {
        title: "Premier jour de Seconde",
        description: "J'étais choqué en découvrant mon professeur principal d'histoire-géographie, M. Deraco, incroyablement proche des élèves, drôle et bienveillant. Son approche chaleureuse m'a mis immédiatement à l'aise."
      },
      {
        title: "Projet en Première : Jeu vidéo sur Roblox",
        description: "Pour un travail d'EMC contre le cyberharcèlement, j'ai collaboré avec Yann (pour le building) et Swann (pour les idées) afin de créer un jeu vidéo sur Roblox. J’ai assuré la partie script. Malgré un crash en fin de présentation – source d’embarras – le résultat fut acclamé par la classe."
      },
      {
        title: "Vision pour Terminale : Philosophie & Maths Expertes",
        description: "J'attends avec impatience les cours de philosophie, ma matière favorite, et je vise l'excellence. Parallèlement, Maths Expertes représente un bonus ambitieux et un défi stimulant, malgré mes appréhensions quant à la qualité d'enseignement."
      },
      {
        title: "Le Bac et l'Avenir : EPITA et le Futur",
        description: "Pour le Bac, je compte changer de mentalité, m'organiser mieux et viser l'excellence. Mon objectif ultime est de réussir le concours 'Advance' pour intégrer EPITA à Strasbourg, un parcours de 5 ans menant à un doctorat reconnu à l'international, avec un voyage d'étude de 6 mois dès la 2ème année."
      }
    ];

    // Fonction pour mettre à jour le panneau d'info
    function updateInfo(title, description) {
      gsap.to("#eventTitle", {duration: 0.5, text: {value: title}, ease: "none"});
      gsap.to("#eventDescription", {duration: 0.8, text: {value: description}, ease: "none", delay: 0.3});
    }

    // Animation de la voiture le long du chemin en fonction du scroll
    gsap.to("#car", {
      scrollTrigger: {
        trigger: ".road-container",
        start: "top top",
        end: "bottom bottom",
        scrub: true
      },
      duration: 1,
      motionPath: {
        path: "#motionPath",
        align: "#motionPath",
        autoRotate: true,
        alignOrigin: [0.5, 0.5]
      }
    });

    // Timeline qui met à jour le panneau d'info selon la progression du scroll
    gsap.timeline({
      scrollTrigger: {
        trigger: ".road-container",
        start: "top top",
        end: "bottom bottom",
        scrub: true,
        onUpdate: self => {
          const progress = self.progress;
          if (progress < 0.33) {
            updateInfo(events[0].title, events[0].description);
          } else if (progress < 0.66) {
            updateInfo(events[1].title, events[1].description);
          } else if (progress < 0.83) {
            updateInfo(events[2].title, events[2].description);
          } else {
            updateInfo(events[3].title, events[3].description);
          }
        }
      }
    });

    // Navigation fluide pour la barre (le lien scroll vers la bonne position)
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetProgress = parseFloat(this.getAttribute('data-target'));
        // Calculer la position du scroll dans la .road-container en fonction du progress souhaité
        const container = document.querySelector(".road-container");
        const totalHeight = container.scrollHeight - window.innerHeight;
        const targetY = totalHeight * targetProgress;
        gsap.to(window, {duration: 1, scrollTo: {y: targetY}, ease: "power2.inOut"});
      });
    });
  </script>
</body>
</html>
